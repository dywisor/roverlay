R overlay -- README

== How to use ==

There is currently no "R overlay" script, only modules that implement functionality.

=== Running tests ===

Real tests are scheduled for July 10 - July 30.

In the meantime, there are some test scripts (run_<something>.py,
test_<something>.sh) and a Makefile that provide basic testing.

To run them you need to create a directory <root>/examples/packages and
put some R packages into it (expected suffix is .tar.gz),
where <root> is the directory containing this README file.
Some scripts expect the seewave (seewave_1.6.3.tar.gz) package in there.

You can then run:
 	./run_config.py <config files>

 	 	* reads config files and prints the config

 	./run_overlaycreation.py [--help|-h|?] [--show] [--write] [<R packages>]

 	 	* creates an overlay with ebuilds for the given R packages (or seewave if left out)

 	 	* parameters:
 	 	** --help  -- prints a short usage info (does not create ebuilds/...)
 	 	** --show  -- prints the created ebuilds/metadata to console,
 	 	               does not create Manifest files
	
 	 	** --write -- writes the created ebuilds/metadata to the overlay, including
 	 	               Manifest files (see R-overlay.conf for the overlay dir)

 	make <target>, where target is

 	 	* seewave, test-seewave -- runs './run_overlaycreation --show examples/packages/seewave_*.tar.gz'
 	 	* clean-log             -- removes log files in ./log/
	 	* test-nop              -- run './nop.py' which does nothing but 'import roverlay'


== Configuration ==

* main configuration
shell-like syntax (using shlex), TODO - roverlay/config/entrymap could be
helpful in the meantime

* repo configuration (CRAN,...)
to be clarified; either part of the main config as tuple
<name>;<local dir or empty>;<rsync uri>;<src uri> in the main config file
or in a separate file using ConfigParser syntax.

* description field configuration
ConfigParser syntax, please see 'description_fields.conf' in this directory.

* dependency rules configuration
simple dependency rules: see simple-deprules.conf

